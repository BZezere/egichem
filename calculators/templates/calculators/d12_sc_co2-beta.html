{% extends "website/base.html" %} 
{% load static %}
{% block content %}

<div class="container mt-4">

  <div class="row mb-3">
    <div class="col">
      <h1 class="display-5 mb-3">Estimation of diffusivities in supercritical carbon dioxide</h1>
      <p class="lead">Calculates the diffusion coefficients of a solute in supercritical carbon dioxide using the Machine Learning model proposed in <a href="https://www.sciencedirect.com/science/article/pii/S0167732221000076">Aniceto et al., 2021</a>.</p>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-6">

      <form method="POST">
        {% csrf_token %}

        <div class="form-group row my-1">

          <label for="id_temperature" class="col-sm-5 col-form-label">{{ form.temperature.label }}</label>
          <div class="col-sm-7">
            <div class="input-group mb-3">
              {{ form.temperature }}
              <div class="input-group-append">
                <span class="input-group-text" id="addon-id_temperature">K</span>
              </div>
            </div>
          </div>
          {{ form.temperature.errors }}
        </div>

        <div class="form-group row my-1">
          <label for="id_density" class="col-sm-5 col-form-label">{{ form.density.label }}</label>
          <div class="col-sm-7">
            <div class="input-group mb-3">
              {{ form.density }}
              <div class="input-group-append">
                <span class="input-group-text" id="addon-id_density">g cm<sup>-3</sup></span>
              </div>
            </div>
          </div>
          {{ form.density.errors }}
        </div>

        <div class="form-group row my-1">
          <label for="id_molarmass" class="col-sm-5 col-form-label">{{ form.molarmass.label }}</label>
          <div class="col-sm-7">
            <div class="input-group mb-3">
              {{ form.molarmass }}
              <div class="input-group-append">
                <span class="input-group-text" id="addon-id_molarmass">g mol<sup>-1</sup></span>
              </div>
            </div>
          </div>
          {{ form.molarmass.errors }}
        </div>

        <div class="form-group row my-1">
          <label for="id_criticalpressure" class="col-sm-5 col-form-label">{{ form.criticalpressure.label }}</label>
          <div class="col-sm-7">
            <div class="input-group mb-3">
              {{ form.criticalpressure }}
              <div class="input-group-append">
                <span class="input-group-text" id="addon-id_criticalpressure">bar</span>
              </div>
            </div>
          </div>
          {{ form.criticalpressure.errors }}
        </div>

        <div class="form-group row my-1">
          <label for="id_acentricfactor" class="col-sm-5 col-form-label">{{ form.acentricfactor.label }}</label>
          <div class="col-sm-7">
            <div class="input-group mb-3">
              {{ form.acentricfactor }}
              <div class="input-group-append">
                <span class="input-group-text" id="addon-id_acentricfactor">-</span>
              </div>
            </div>
          </div>
          {{ form.acentricfactor.errors }}
        </div>

        <button type="submit" class="btn btn-egichem">Calculate</button>
      </form>

    </div>

    <div class="col-md-5 offset-md-1 mt-3 mt-md-0">
      <form>
        
        <div class="form-group row">

          <label for="d12-result" class="col-sm-6 col-form-label">Diffusion coefficient</label>
          <div class="col-sm-6">
            <div class="input-group mb-3">
              <input value="{{ d12_result }}" id="d12-result" class="form-control" aria-label="Diffusion coefficient" aria-describedby="addon-d12-result" readonly>
              <div class="input-group-append">
                <span class="input-group-text" id="addon-d12-result">cm<sup>2</sup> s<sup>-1</sup></span>
              </div>
            </div>
          </div>

        </div>

      </form>
    </div>
  </div>

  <div class="alert alert-secondary mt-4">
    <div class="row">
      <div class="col-lg-8 align-self-center">
        <span>You can download the software with this calculator for offline use.</span>
      </div>
      <div class="col-lg-4">
        <div class="float-md-right mt-2 mt-md-0">
          <a href="{% static 'calculators/ml-d12.zip' %}" class="btn btn-egichem" download>Download</a>
          <a href="https://github.com/EgiChem/ml-D12-app" class="btn btn-egichem" target="_blank">Github</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col">
      <h4>Notes</h4>
      <p>This tool estimates the binary diffusivity of a solute in supercritical carbon dioxide using a machine learning model trained with 4000 experimental data points from over 170 systems.</p>
      
      <h4>Citing</h4>
      <p>If you use this calculator for a scientific publication, please cite:</p>
      <p><a href="https://www.sciencedirect.com/science/article/pii/S0167732221000076">J.P.S. Aniceto, B. Zêzere, C.M. Silva. Machine learning models for the prediction of diffusivities in supercritical CO2 systems, Journal of Molecular Liquids (2021) 115281.</a></p>
      
      <!-- <h4>References</h4>
      <p>J.P.S. Aniceto, B. Zêzere, C.M. Silva. Machine learning models for the prediction of diffusivities in supercritical CO2 systems, Journal of Molecular Liquids (2021) 115281.</p> -->
    </div>
  </div>

</div>
{% endblock content %}

{% block scripts %}
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/styles/default.min.css">
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
{% endblock %}
